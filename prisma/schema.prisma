generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("MDB_DATABASE_URL")
  shadowDatabaseUrl = env("MDB_SHADOW_DATABASE")
}

model Client {
    id String @id @default(cuid())
    firstName String
	lastName  String
	email String @unique
    transactions Transaction[]
}

model Motorcycle {
	id String @id() @default(cuid())
	name String
	description String
	year Int
	price Float @default(0)
	imgURL String
    transactions TransactionMotorcycle[]
}

model TransactionMotorcycle {
	id String @id() @default(cuid())
    motoId String
    moto Motorcycle @relation(fields: [motoId], references: [id])
    quantity Int
    transactions Transaction[]
}

model Transaction {
    id String @id() @default(cuid())
    clientId String
    client Client @relation(fields: [clientId], references: [id])
    total Float @default(0)
    createdAt DateTime @default(now())
    motorcycles TransactionMotorcycle[]
}